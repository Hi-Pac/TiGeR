<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Firebase - TiGeR ERP</title>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 40px;
            max-width: 600px;
            width: 100%;
        }
        h1 {
            color: #333;
            margin-bottom: 30px;
            text-align: center;
        }
        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        button {
            padding: 15px 20px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary {
            background: #667eea;
            color: white;
        }
        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }
        .btn-danger {
            background: #f56565;
            color: white;
        }
        .btn-danger:hover {
            background: #e53e3e;
            transform: translateY(-2px);
        }
        .btn-success {
            background: #48bb78;
            color: white;
            grid-column: 1 / -1;
        }
        .btn-success:hover {
            background: #38a169;
        }
        .log {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 5px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #2d3748;
        }
        .log-item {
            margin-bottom: 8px;
            padding: 5px;
        }
        .log-item.success {
            color: #22863a;
            background: #f0fdf4;
        }
        .log-item.error {
            color: #cb2431;
            background: #fdf0f0;
        }
        .log-item.info {
            color: #0366d6;
            background: #f0f6fc;
        }
        .status {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
        }
        .status.success {
            background: #c6f6d5;
            color: #22543d;
        }
        .status.error {
            background: #fed7d7;
            color: #742a2a;
        }
        .status.loading {
            background: #bee3f8;
            color: #2c5282;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Firebase</h1>
        
        <div id="status" class="status loading">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase...</div>
        
        <div class="button-group">
            <button class="btn-primary" onclick="addAllData()">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button class="btn-danger" onclick="deleteAllData()">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        </div>
        
        <button class="btn-success" onclick="clearLog()">Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</button>
        
        <div id="log" class="log">
            <div class="log-item info">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©...</div>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBRtCWX-OcFAtMqZusMqePMX2zvlIdcRyA",
            authDomain: "delta-hcp-fa2ba.firebaseapp.com",
            projectId: "delta-hcp-fa2ba",
            storageBucket: "delta-hcp-fa2ba.firebasestorage.app",
            messagingSenderId: "649732241434",
            appId: "1:649732241434:web:f3adddc04c9b6e9d2f39a3"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const item = document.createElement('div');
            item.className = `log-item ${type}`;
            item.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logDiv.appendChild(item);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function setStatus(message, type = 'info') {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
        }

        async function addAllData() {
            try {
                setStatus('ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...', 'loading');
                log('Ø¨Ø¯Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');

                // Users
                await addUsers();
                // Products
                await addProducts();
                // Customers
                await addCustomers();
                // Suppliers
                await addSuppliers();
                // Bank Accounts
                await addBankAccounts();
                // Expenses
                await addExpenses();
                // Inventory Stock
                await addInventoryStock();

                setStatus('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                log('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            } catch (error) {
                setStatus('âŒ Ø®Ø·Ø£: ' + error.message, 'error');
                log('Ø®Ø·Ø£: ' + error.message, 'error');
            }
        }

        async function addUsers() {
            const users = [
                { name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯', phone: '01001122333', email: 'ahmed@tiger.com', role: 'admin', status: 'active' },
                { name: 'ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ', phone: '01112233444', email: 'fatima@tiger.com', role: 'accountant', status: 'active' },
                { name: 'Ù…Ø­Ù…Ø¯ Ø³Ø¹ÙŠØ¯', phone: '01223344555', email: 'mohammad@tiger.com', role: 'sales', status: 'active' },
                { name: 'Ø³Ø§Ø±Ø© Ø­Ø³Ù†', phone: '01334455666', email: 'sarah@tiger.com', role: 'warehouse', status: 'inactive' }
            ];

            for (const user of users) {
                await db.collection('users').add(user);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${users.length} Ù…Ø³ØªØ®Ø¯Ù…`, 'success');
        }

        async function addProducts() {
            const products = [
                { name: 'Ø²ÙŠØª Ø¹Ø¨Ø§Ø¯ Ø§Ù„Ø´Ù…Ø³ 1 Ù„ØªØ±', barcode: '622001', category: 'oils', unit: 'Ø²Ø¬Ø§Ø¬Ø©', purchasePrice: 30, salePrice: 35, description: 'Ø²ÙŠØª Ø·Ø¹Ø§Ù… Ù†Ù‚ÙŠ', reorderLevel: 10 },
                { name: 'Ø£Ø±Ø² Ù…ØµØ±ÙŠ ÙØ§Ø®Ø± 5 ÙƒØ¬Ù…', barcode: '622002', category: 'rice', unit: 'ÙƒÙŠØ³', purchasePrice: 120, salePrice: 135, description: 'Ø£Ø±Ø² Ø­Ø¨Ø© Ø·ÙˆÙŠÙ„Ø©', reorderLevel: 20 },
                { name: 'Ù…ÙƒØ±ÙˆÙ†Ø© Ø§Ø³Ø¨Ø§Ø¬ØªÙŠ 400Ø¬Ù…', barcode: '622003', category: 'pasta', unit: 'ÙƒÙŠØ³', purchasePrice: 8, salePrice: 10, description: '', reorderLevel: 50 },
                { name: 'ØµÙ„ØµØ© Ø·Ù…Ø§Ø·Ù… Ù…Ø¹Ù„Ø¨Ø©', barcode: '622004', category: 'canned', unit: 'Ø¹Ù„Ø¨Ø©', purchasePrice: 5, salePrice: 7, description: 'ØªØ±ÙƒÙŠØ² Ø¹Ø§Ù„ÙŠ', reorderLevel: 30 }
            ];

            for (const product of products) {
                await db.collection('products').add(product);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${products.length} ØµÙ†Ù`, 'success');
        }

        async function addCustomers() {
            const customers = [
                { shopName: 'Ù…Ø§Ø±ÙƒØª Ø§Ù„Ø³Ø¹Ø§Ø¯Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰', ownerName: 'Ø¹Ù„ÙŠ Ø£Ø­Ù…Ø¯', phone: '01001122333', phone2: '', email: 'saada@example.com', area: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©', address: '15 Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±, Ø§Ù„Ø¯Ù‚ÙŠ', creditLimit: 10000, openingBalance: 500, currentBalance: 1200, status: 'active', notes: 'Ø¹Ù…ÙŠÙ„ Ø¬ÙŠØ¯ØŒ ÙŠØ¯ÙØ¹ ÙÙŠ Ø§Ù„Ù…ÙˆØ¹Ø¯' },
                { shopName: 'Ø¨Ù‚Ø§Ù„Ø© Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ù„Ø¨Ø±ÙƒØ©', ownerName: 'ÙØ§Ø·Ù…Ø© Ø­Ø³Ù†', phone: '01112233444', phone2: '0127777777', email: '', area: 'Ø§Ù„Ø¬ÙŠØ²Ø©', address: 'Ø´Ø§Ø±Ø¹ Ø§Ù„Ù‡Ø±Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ', creditLimit: 5000, openingBalance: -200, currentBalance: -200, status: 'active', notes: '' },
                { shopName: 'Ù‡Ø§ÙŠØ¨Ø± Ø§Ù„Ù†ÙˆØ±', ownerName: 'Ù…Ø­Ù…ÙˆØ¯ Ø³Ø¹ÙŠØ¯', phone: '01223344555', phone2: '', email: 'nour@hyper.com', area: 'Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©', address: 'Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ±Ù†ÙŠØ´, Ø§Ù„Ù…Ù†ØªØ²Ù‡', creditLimit: 20000, openingBalance: 0, currentBalance: -550, status: 'inactive', notes: 'ØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¤Ù‚ØªØ§Ù‹' }
            ];

            for (const customer of customers) {
                await db.collection('customers').add(customer);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${customers.length} Ø¹Ù…ÙŠÙ„`, 'success');
        }

        async function addSuppliers() {
            const suppliers = [
                { companyName: 'Ø´Ø±ÙƒØ© Ø§Ù„Ø£ØºØ°ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©', contactPerson: 'Ø£Ø­Ù…Ø¯ Ø®Ø§Ù„Ø¯', phone: '01234567890', email: 'united@foods.com', address: 'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©ØŒ Ù…Ø¯ÙŠÙ†Ø© 6 Ø£ÙƒØªÙˆØ¨Ø±', openingBalance: 15000, currentBalance: 12500, paymentTerms: 30, status: 'active', productCategories: ['oils', 'rice'], notes: 'Ù…ÙˆØ±Ø¯ Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ø²ÙŠÙˆØª ÙˆØ§Ù„Ø£Ø±Ø².' },
                { companyName: 'Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø®ÙŠØ± Ù„Ù„ØªÙˆØ±ÙŠØ¯Ø§Øª', contactPerson: 'Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ', phone: '01198765432', email: 'khair@supplies.net', address: 'ÙˆØ³Ø· Ø§Ù„Ø¨Ù„Ø¯ØŒ Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©', openingBalance: -500, currentBalance: 0, paymentTerms: 15, status: 'active', productCategories: ['pasta', 'canned', 'spices'], notes: '' },
                { companyName: 'ØªØ¬Ø§Ø± Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ÙƒØ¨Ø§Ø±', contactPerson: 'Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†', phone: '01011223344', email: '', address: 'Ø³ÙˆÙ‚ Ø§Ù„Ø¬Ù…Ù„Ø©ØŒ Ø§Ù„Ø¹Ø¨ÙˆØ±', openingBalance: 0, currentBalance: 7800, paymentTerms: 45, status: 'inactive', productCategories: ['oils', 'rice', 'pasta', 'canned', 'spices'], notes: 'Ø¬ÙˆØ¯Ø© Ù…ØªÙØ§ÙˆØªØ©.' }
            ];

            for (const supplier of suppliers) {
                await db.collection('suppliers').add(supplier);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${suppliers.length} Ù…ÙˆØ±Ø¯`, 'success');
        }

        async function addBankAccounts() {
            const accounts = [
                { accountName: 'Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù‡Ù„ÙŠ - Ø¬Ø§Ø±ÙŠ', accountType: 'bank_current', bankName: 'Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù‡Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙŠ', accountNumber: '1234567890123', iban: 'EG...123', currency: 'EGP', currentBalance: 75300.50, openingBalance: 50000, openingDate: '2023-01-15', notes: 'Ø­Ø³Ø§Ø¨ Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ' },
                { accountName: 'Ø®Ø²ÙŠÙ†Ø© Ø§Ù„Ù…ÙƒØªØ¨', accountType: 'cash_on_hand', currency: 'EGP', currentBalance: 12750.00, openingBalance: 10000, openingDate: '2023-01-01', notes: '' },
                { accountName: 'Ø¨Ù†Ùƒ Ù…ØµØ± - ØªÙˆÙÙŠØ± Ø¯ÙˆÙ„Ø§Ø±', accountType: 'bank_saving', bankName: 'Ø¨Ù†Ùƒ Ù…ØµØ±', accountNumber: '98765', currency: 'USD', currentBalance: 5200.00, openingBalance: 5000, openingDate: '2023-05-10', notes: '' }
            ];

            for (const account of accounts) {
                await db.collection('bankAccounts').add(account);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${accounts.length} Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙŠ`, 'success');
        }

        async function addExpenses() {
            const expenses = [
                { date: '2024-02-01', type: 'rent', description: 'Ø¥ÙŠØ¬Ø§Ø± Ù…ÙƒØªØ¨ Ø´Ù‡Ø± ÙØ¨Ø±Ø§ÙŠØ±', amount: 5000, paymentMethod: 'bank_transfer', paidTo: 'Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¹Ù‚Ø§Ø±', employeeId: '', attachmentName: '', attachmentUrl: '' },
                { date: '2024-02-05', type: 'fuel', description: 'Ø¨Ù†Ø²ÙŠÙ† Ù„Ø³ÙŠØ§Ø±Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹', amount: 350, paymentMethod: 'cash', paidTo: 'Ù…Ø­Ø·Ø© ÙˆÙ‚ÙˆØ¯', employeeId: '' },
                { date: '2024-02-10', type: 'utilities', description: 'ÙØ§ØªÙˆØ±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø§Ù„Ù…ÙƒØªØ¨', amount: 280, paymentMethod: 'cash', paidTo: 'Ø´Ø±ÙƒØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡', employeeId: '' },
                { date: '2024-02-15', type: 'salaries', description: 'Ø±Ø§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†', amount: 15000, paymentMethod: 'bank_transfer', paidTo: 'Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø´Ø±ÙŠØ©', employeeId: '' }
            ];

            for (const expense of expenses) {
                await db.collection('expenses').add(expense);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${expenses.length} Ù…ØµØ±ÙˆÙ`, 'success');
        }

        async function addInventoryStock() {
            const stock = [
                { productId: 'p1', productName: 'Ø²ÙŠØª Ø¹Ø¨Ø§Ø¯ Ø§Ù„Ø´Ù…Ø³ 1 Ù„ØªØ±', warehouseId: 'main_wh', warehouseName: 'Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ', quantity: 40, unit: 'Ø²Ø¬Ø§Ø¬Ø©', reorderLevel: 10, status: 'in_stock' },
                { productId: 'p1', productName: 'Ø²ÙŠØª Ø¹Ø¨Ø§Ø¯ Ø§Ù„Ø´Ù…Ø³ 1 Ù„ØªØ±', warehouseId: 'alex_wh', warehouseName: 'Ù…Ø®Ø²Ù† Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©', quantity: 5, unit: 'Ø²Ø¬Ø§Ø¬Ø©', reorderLevel: 10, status: 'low_stock' },
                { productId: 'p2', productName: 'Ø£Ø±Ø² Ù…ØµØ±ÙŠ ÙØ§Ø®Ø± 5 ÙƒØ¬Ù…', warehouseId: 'main_wh', warehouseName: 'Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ', quantity: 80, unit: 'ÙƒÙŠØ³', reorderLevel: 20, status: 'in_stock' },
                { productId: 'p3', productName: 'Ù…ÙƒØ±ÙˆÙ†Ø© Ø§Ø³Ø¨Ø§Ø¬ØªÙŠ 400Ø¬Ù…', warehouseId: 'main_wh', warehouseName: 'Ø§Ù„Ù…Ø®Ø²Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ', quantity: 0, unit: 'ÙƒÙŠØ³', reorderLevel: 50, status: 'out_of_stock' }
            ];

            for (const item of stock) {
                await db.collection('inventoryStock').add(item);
            }
            log(`âœ“ ØªÙ… Ø¥Ø¶Ø§ÙØ© ${stock.length} Ø¹Ù†ØµØ± Ù…Ø®Ø²ÙˆÙ†`, 'success');
        }

        async function deleteAllData() {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹!')) {
                return;
            }

            try {
                setStatus('ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...', 'loading');
                log('Ø¨Ø¯Ø¡ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');

                const collections = ['users', 'products', 'customers', 'suppliers', 'bankAccounts', 'expenses', 'inventoryStock'];

                for (const collection of collections) {
                    const snapshot = await db.collection(collection).get();
                    for (const doc of snapshot.docs) {
                        await db.collection(collection).doc(doc.id).delete();
                    }
                    log(`âœ“ ØªÙ… Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª ${collection}`, 'success');
                }

                setStatus('âœ… ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!', 'success');
                log('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            } catch (error) {
                setStatus('âŒ Ø®Ø·Ø£: ' + error.message, 'error');
                log('Ø®Ø·Ø£: ' + error.message, 'error');
            }
        }

        // Check Firebase connection
        setTimeout(() => {
            setStatus('âœ… Ù…ØªØµÙ„ Ø¨Ù€ Firebase Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            log('Firebase Ù…ØªØµÙ„ ÙˆØ¬Ø§Ù‡Ø²!', 'success');
        }, 2000);
    </script>
</body>
</html>
